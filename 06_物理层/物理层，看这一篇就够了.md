## 基本介绍

- 解决的问题

  解决如何在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体  （通俗的讲就是传输的数据是通过何种方式，以什么形态传输的，



物理层上传输的数据单位是**比特**，即如果发送方发送了1，接收方就应该收到1，如果发送方发送了0，接收方就应该收到0，所以物理层需要考虑用多大电压代表0、多大电压代表1，以及接收方如何识别发送放发出的比特。物理层还需要确定连接电缆的插头应该有多少根引脚以及各引脚应该如何连接。

注意：传递信息所利用的一些物理媒介，比如双绞线、同轴电缆等不在物理层协议范围之内，其应该在物理层之下，有人也将其称为第0层。

所以，物理层考虑的是怎样**才能在各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。**

现代计算机网络中的硬件设备和传输媒体种类十分多，物理层的作用就是要尽可能屏蔽掉这些传输媒体和通信手段的差异，使物理层上面的数据链路层感受不到这种差异，这样**数据链路层就可以仅考虑本层的协议和服务，而不必考虑具体的传输媒体和通信手段**。

物理层协议也称为物理层**规程**。

具体来说，物理层的主要任务为确定**与传输媒体的接口**有关的一些特性，包括：

> - 机械特性
>
>   指明接口所用接线器的形状与尺寸、引脚数目和排列、固定和锁定装置等。
>
> - 电气特性
>
>   指明在接口电缆的各条线上的**电压的范围**。
>
> - 功能特性
>
>   指明某条线上出现的某一电平的**电压的意义**。
>
> - 过程特性
>
>   指明对于不同功能的各种可能事件的**出现顺序**。



## 2：数据通信基础

### 数据通信模型

![数据通讯系统模型](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226205056845.png)

一个典型的数据通讯系统包括：**源系统、传输系统、目的系统**

　　PC机要发的数据会转换为010101，数字比特流就代表着010101传给调制解调器，调制解调器将数字比特流转换为模拟信号，通过公用电话网传到很远的目的地去。然后逆过来解析成原数据就行了

　　提到的数字比特流、模拟信号之后会讲解到，这样，我们就大概了解了数据通信的模型了，大概知道数据是转换成哪种形式传到目标中。

- 源系统

  源系统主要包括两部分：

  - **源点(source)** 源点设备**产生要传输的数据**，源点又称**源站**、**信源**。
  - **发送器** **编码**源点产生的数据，以便传输系统进行传输。典型的发送器就是调制器。

- 传输系统

  位于源系统和目的系统之间，负责数据的传输，可以使简单的传输线，也可以是连接在源系统和目的系统之间的复杂网络。

- 目的系统

  目的系统主要包括两部分：

  - **接收器** 接收传输系统传过来的信号，并将接收到的信号转换为能被目的设备处理的信息。他的功能和源系统中的发送器是相对的，发送器负责编码，**接收器负责解码**。典型的接收器就是解调器。
  - **终点(destination)** 终点设备从接收器获取到传来的数字比特流，然后把信息输出(比如显示在屏幕上或存储在文件中)。终点又称**目的站**、**信宿**。

## 3：解释几个常用的术语和概念

- 消息

  通信的目的是传送消息，比如语音、文字、图像、视频等都是消息。

- 数据

  运送消息的实体

- 信号

  数据的电气或者电磁的表现。并且信号分为以下两种

  - **模拟信号** 也称**连续信号**，代表消息的参数的取值是**连续**的。
  - **数字信号** 也称**离散信号**，代表消息的参数的取值是**离散**的。

- 信道

  信道是信号的传输媒介，信道一般都是用来表示某一方向传送信息的媒体，因此一条通信电路往往包含一条发送信道和一条接收信道（有方向的）。

  信道的分类：

  - 按照传输信号可以分为：

    1：模拟信道：传送模拟信号；

    2：数字信道：传送数字信号；

  - 按照传输介质分类

    1：无线信道

    2：有线信道

- 信源:产生和发送数据的源头

- 信宿:接受数据的终点.

- **码元**

  在数字通信中常常用时间间隔相同的符号来表示一个二进制数字，这样的时间间隔内的信号称为(二进制）码元。

  `1码元可以携带多个比特的信息量`.例如,在使用二进制编码时,只有两种不同的码元:一种代表0状态,一种代表1状态.

- 速率

  `速率`:也叫数据率,是指数据的`传输速率`,表示单位时间内传输的数据量.可以用`码元传输速率`和`信号传输速率`表示

- 带宽

  宽指的是在单位时间内从网络中的某一点到另一点所能通过的`最高数据率`,常用来表示网络的通信线路所能传输数据的能力,单位是b/s.

### 通信方式的分类

从通信的双方信息交换的方式来看，有三种基本方式：

- **单工通信**

> 也称单向通信，只能有一个方向的通信而没有反方向的交互，比如无线电广播就是这种方式。

- **半双工通信**

> 也称双向交替通信，通信双方都有可发送信息，但是不能同时发送，也就是说同一时间最多只能有一方发送信息。

- **全双工通信**

> 也称双向同时通信，通信双方可以同时发送和接收消息。

### 数据传输方式

1. 单行传输:速度`慢`,费用`低`,适合`远`距离
2. 并行传输:速度`快`,费用`高`,适合`近`距离.例如:打印机,扫描仪

单行传输只需要`一条`信道,并行传输是多条信道同时传输比特流,因此需要`多条`信道.



上面我们提到产生和发送数据的源头为信源，信源产生的信号其实称为**基带信号**，像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号，基带信号就是发出的直接表达了要传输的信息的信号。

但是基带信号其含有较多的低频成分甚至是直流成分，而许多信道都不能传输这种低频分量或者直流分量，为了解决这一问题，必须对基带信号进行**调制**。

而**带通（宽带）信号**就是把基带信号经过载波调制后，把信号的频率范围移到较高的频段以便在信道中传输。

基带信号和带通（宽带）信号就存在一个选择关系：

在传输**距离近**时,计算机网络采用**基带传输方式**(距离近,衰减少,从而信号内容不容易发生改变)

在传输距离远时,计算机网络采用**宽带传输方式**(距离远,衰减大,经过调制后即使信号变化大,也能过滤出来基带信号)

那我们就讲一下调制是如何进行的：

## 4：编码与调制

不论我们的数据在传输过程中是怎么样的,只要是要进行传输,我们就需要使用到编码和调制的手段把数据变为信号.

数字数据------使用数字发送器------>**数字信号 :编码的手段**

数字数据------使用调制器------>**模拟信号：调制的手段**

模拟数据------使用PCM编码器------>**数字信号 :编码的手段**

模拟数据------放大器.调制器------>**模拟信号：调制的手段**

先看：

### 数字数据编码为数字信号

计算机发送的数据都是0101的序列的数字数据,要想数字数据能够在计算机中传输,就需要将**数字数据编码为数字信号.**

![image-20201226211625746](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226211625746.png)

数字数据的传输用基带传输的方式: 既是指基本不改变数字信号的频率 ,直接传输数据

1. **非归零编码**:**高1低0**，即正电平代表1，负电平代表0,编码容易,但是没有检错功能,且无法判断一个码元的开始和结束,以至于双方很难保持同步。
2. 归零编码:正脉冲代表1，负脉冲代表0。信号电平在一个码元之内都要恢复到0的编码方式
3. **曼彻斯特编码**:将一个码元分成两个相等的间隔,前一个间隔为低电平，后一个间隔为高电平表示1,码元0则正好相反.也可以采用相反的额规定.该编码的特点是在每一个码元的中间出现电平跳转,位中间的跳转即作为时钟信号(可用于同步,又做数据信号,但它所占的频带宽度是原始基带宽度的两倍),每一个码元都被调成两个电平,所以数据传输速率只有调制速率的1/2.
4. **差分曼彻斯特编码**:**同1异0**,常用于局域网传输其规则是:若码元为1,则前半个码元的电平相同,若为0,则相反.该编码的特点是,在每个码元的中间,都有一次电平的跳转,可以实现自同步,且抗干扰性**强于**曼彻斯特编码

非归零编码.归零编码.,尤其是传输全0或者全1的数据时,很难保证发送端和接收端的同步,往往需要另外一条信道来建立时钟信号.

之后的曼彻斯特编码:可以实现自同步,接收端能够自己提取信号,计算每个时钟周期是多少。

### 数字数据调制为模拟信号

数字数据调制技术在发送端将数字信号转换为模拟信号,而在接收端将模拟信号还原为数字信号,分别对应于调制解调器的调制和解调过程

![image-20201226211853739](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226211853739.png)

- 调幅

  载波的振幅随系带数字信号而变化，例如0或1分别对应于无载波或有载波输出。

- 调频

  载波的频率随基带数字信号而变化，例如0或1分别对应于频率f1和f2

- 调相

  载波的初始相位随基带数字信号而变化，例如0或1分别对应于相位0或180度

## 5: 两个重要公式

在了解公式作用之前，先看些基本概念：

### 信道极限容量

虽然信号在信道上传输时会不可避免地失真，但在接收端只要我们从失真的波形中能够识别出来原来的信号，那么这种失真对通信质量就没有影响。

![image-20201226212942212](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226212942212.png)

如上图a便是信号虽然有失真但是在接收端还可以恢复出原来的码元，图b表示信号失真到接收端已经不能恢复出原来的码元。

### 失真

在实际信道传输数据过程中,由于`带宽受限`,`有噪声`,有`干扰`,会导致发送信号的波形发生变化就叫失真

影响失真程度的因素:

1. 码元的传输速率
2. 信号传输距离
3. 噪声干扰
4. 传输媒体质量

码元**传输的速率越高**、**信号传播的距离越远**、**噪声干扰越大**、**传输媒体质量越差**，在接收端的波形失真就越严重。

### 奈氏准则

信道能通过的频率范围总是有限的，信号中的频率**过高**或**过低**都往往不能通过信道。像下图4的发送信号波形是一种典型的矩形脉冲信号，它包含很丰富的**高频分量**。

如果信号中的高频分量在传输时受到衰减，那么接收端受到的波形的前沿和后沿就变得不那么陡峭，每一个码元所占的时间界限也就不再那么明显，而是前后都脱了"小尾巴"，就像下图中a部分的接收信号波形那样，这种现象叫做**码间干扰**。

![image-20201226212942212](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226212942212.png)

奈氏准则:在理想低通(无噪声,带宽受限)条件下,为了避免码间串扰,极限码元传输速率为2w Baud,w是信道带宽,单位是hz

![image-20201226212629299](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226212629299.png)

1. 在任何信道中,**`码元传输的速率是有上限的`**.若传输速率超过此上限,就会出现严重的**码间串扰**,使接收端对于码元无法做出正确的识别；
2. 信道的`频带越宽`(即能通过的信号高频分量越多),就可以用更高的速率进行码元间的有效传输而不出现码间干扰.
3. 奈氏准则给出了**码元传输速率的限制**,但并没有对信息传输速率给出限制.
4. 由于码元的传输速率受奈氏准则的制约,所以要提高数据的传输速率,就必须使每个码元能够携带更多个比特的信息量,这就需要采用多元制的调制方法.

### 香农定理

噪声存在于所有的电子设备和通信信道中。

由于噪声随机产生,它的瞬时值有时会很大,因此噪声会使接收端对码元的判决产生错误.但是噪声的影响是相对的,若信号较强,那么噪声相对较小。

所以这里就引入一个**信噪比**。

#### 信噪比

信噪比 = **信号的平均功率/噪声的平均功率**,常记为S/N,并用分贝(dB)作为度量单位,即:

![image-20201226213611657](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226213611657.png)

**信道的极限信息传输速率C可以表示为：**

![image-20201226213739445](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226213739445.png)

其中：

- W 为信道的**带宽**（以 Hz 为单位）；
- S 为信道内所传**信号的平均功率**；
- N 为信道内部的**高斯噪声功率**。

这个公式就是香农公式，它表明：

- 信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高。
- **只要信息传输速率低于信道的极限信息传输速率，就一定可以找到某种办法来实现无差错的传输。**
- **若信道带宽 W 或信噪比 S/N 没有上限（当然实际信道不可能是这样的），则信道的极限信息传输速率 C 也就没有上限。**

两个公式的对比：

![image-20201226213930883](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226213930883.png)

## 6：信道复用技术

**复用 (multiplexing)** 是通信技术中的基本概念。 它允许用户使用一个共享信道进行通信，降低成本，提高利用率。

![image-20201226214150835](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226214150835.png)

如图上表示A1、B1、C1分别使用一个单独的信道和A2、B2、C2进行通信，总共需要3个信道。

但是如果在发送端使用一个**复用器**，接收端使用一个**分用器**，就可以让大家合起来共享一个信道进行通信。

当然复用要付出一定的代价，因为共享信道由于带宽较大因而费用也比较高，再加上复用器和分用器也需要一定的额外费用，但是**如果复用的信道数量较大**，那么经济上还是很合算的。

### 频分复用、时分复用、统计时分复用

#### 频分复用

将整个带宽分为多份，用户在分配到一定的频带后，在通信过程中**自始至终都占用这个频带**。 频分复用的所有用户在**同样的时间占用不同的带宽资源**（请注意，这里的“带宽”是**频率带宽**而不是数据的发送速率）。

#### 时分复用

时分复用则是将时间划分为一段段等长的**时分复用帧（TDM帧）**。每一个时分复用的用户在每一个 TDM 帧中占用固定序号的时隙。 每一个用户所占用的时隙是周期性地出现（其周期就是TDM帧的长度）的。 TDM 信号也称为**等时 (isochronous) 信号**。 时分复用的所有用户在**不同的时间占用同样的频带宽度**。

![image-20201226214331420](https://raw.githubusercontent.com/ARP2019/ImageUpload/master/img/2020-12-12/image-20201226214331420.png)

关于更多的信道复用，建议参考这篇文章：

［计算机网络——物理层和信道复用（频分、时分、码分）技术］（https://blog.csdn.net/zhuxinquan61/article/details/54710247）



## ７：参考文章

https://mp.weixin.qq.com/s/wsVniX1WUpeXW8HQ--YDXg

https://blog.csdn.net/qq_40742223/article/details/106211421

https://snailclimb.gitee.io/javaguide/#/docs/network/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93?id=_2-%e7%89%a9%e7%90%86%e5%b1%82%ef%bc%88physical-layer%ef%bc%89